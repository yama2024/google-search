<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Googleæ¤œç´¢ã‚³ãƒãƒ³ãƒ‰ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚¬ã‚¤ãƒ‰ (Gemini APIæ­è¼‰)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Cool Gray & Blue -->
    <!-- Application Structure Plan: A single-page dashboard with a sticky sidebar for navigation and a main content area. This structure is ideal for a reference guide, allowing users to quickly navigate to specific information. Key interactions include: 1) Categorized navigation. 2) An interactive "Try It" feature. 3) A dynamic reliability chart. 4) A Gemini-powered AI Query Builder. 5) A new Interactive Query Builder for manually constructing complex queries. 6) Tabbed sections for advanced scenarios. This task-oriented design transforms passive reading into active, hands-on learning. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Operator reliability status (Working, Unreliable, Deprecated).
        - Goal: To provide a quick, visual summary of which commands are current and trustworthy.
        - Viz/Presentation Method: A doughnut chart using Chart.js.
        - Interaction: Clicking a segment filters the list of commands.
        - Justification: A chart offers a more immediate and engaging overview than a table. The filtering interaction connects the high-level summary directly to the detailed command information.
        - Library/Method: Chart.js (Canvas).
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 400px; margin-left: auto; margin-right: auto; height: 320px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .command-card.hidden { display: none; }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto px-4 py-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900">Googleæ¤œç´¢ã‚³ãƒãƒ³ãƒ‰</h1>
            <h2 class="text-2xl md:text-3xl font-bold text-blue-600">ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚¬ã‚¤ãƒ‰ with Gemini</h2>
            <p class="mt-4 max-w-3xl mx-auto text-slate-600">
                åŸºæœ¬çš„ãªæ¼”ç®—å­ã‹ã‚‰ã€AIã«ã‚ˆã‚‹ã‚¯ã‚¨ãƒªè‡ªå‹•ç”Ÿæˆã€ãã—ã¦ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¯ã‚¨ãƒªä½œæˆã¾ã§ã€‚ã‚ãªãŸã®æ¤œç´¢ã‚¹ã‚­ãƒ«ã‚’é£›èºã•ã›ã‚‹ãŸã‚ã®æ±ºå®šç‰ˆãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
            </p>
        </header>

        <div class="flex flex-col md:flex-row gap-8">
            <aside class="md:w-1/4 lg:w-1/5 md:sticky top-8 self-start">
                <nav id="navigation-menu" class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2">ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                    <ul class="space-y-2"></ul>
                </nav>
            </aside>

            <main class="md:w-3/4 lg:w-4/5">
                <section id="section-reliability" class="mb-12 bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4 text-center">æ¼”ç®—å­ã®ä¿¡é ¼æ€§</h3>
                    <p class="text-center text-slate-600 mb-6">å…¨ã¦ã®ã‚³ãƒãƒ³ãƒ‰ãŒæœŸå¾…é€šã‚Šã«æ©Ÿèƒ½ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»¥ä¸‹ã®ãƒãƒ£ãƒ¼ãƒˆã§å„ã‚³ãƒãƒ³ãƒ‰ã®ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã€ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦çµæœã‚’çµã‚Šè¾¼ã‚ã¾ã™ã€‚</p>
                    <div class="chart-container">
                        <canvas id="reliabilityChart"></canvas>
                    </div>
                    <div id="filter-status" class="text-center mt-4 text-slate-600 font-semibold"></div>
                </section>
                
                <section id="interactive-query-builder" class="my-12">
                     <h3 class="text-3xl font-bold mb-6 text-slate-900 border-l-4 border-blue-600 pl-4">ğŸ”§ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼</h3>
                     <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="mb-4 text-slate-600">ä»¥ä¸‹ã®ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ã£ã¦ã€æ¤œç´¢ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ãŸã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚</p>
                        <div class="bg-slate-100 p-4 rounded-lg mb-4">
                            <label class="block text-sm font-medium text-slate-700 mb-1">ä½œæˆä¸­ã®ã‚¯ã‚¨ãƒª:</label>
                            <div id="builder-query-display" class="w-full px-3 py-2 bg-white border border-slate-300 rounded-md font-mono text-sm min-h-[40px] flex items-center"></div>
                            <div class="flex items-center justify-end mt-2 gap-2">
                                <button id="builder-clear" class="bg-slate-500 text-white px-4 py-1.5 rounded-md hover:bg-slate-600 text-sm">ã‚¯ãƒªã‚¢</button>
                                <button id="builder-copy" class="bg-slate-200 text-slate-700 px-4 py-1.5 rounded-md hover:bg-slate-300 text-sm">ã‚³ãƒ”ãƒ¼</button>
                                <button id="builder-search" class="bg-green-600 text-white px-4 py-1.5 rounded-md hover:bg-green-700 text-sm font-semibold">ã“ã®ã‚¯ã‚¨ãƒªã§æ¤œç´¢</button>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ </label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-keyword" placeholder="ä¾‹: æ±äº¬ ã‚°ãƒ«ãƒ¡" class="w-full builder-input">
                                    <button data-type="keyword" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                            <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">å®Œå…¨ä¸€è‡´ <code>""</code></label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-exact" placeholder="ä¾‹: "çŒ¿ãŒç©ºã‹ã‚‰è½ã¡ã‚‹"" class="w-full builder-input">
                                    <button data-type="exact" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                            <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">é™¤å¤– <code>-</code></label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-exclude" placeholder="ä¾‹: è»Š" class="w-full builder-input">
                                    <button data-type="exclude" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                             <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">ã‚µã‚¤ãƒˆå†…æ¤œç´¢ <code>site:</code></label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-site" placeholder="ä¾‹: example.com" class="w-full builder-input">
                                    <button data-type="site" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                            <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ <code>filetype:</code></label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-filetype" placeholder="ä¾‹: pdf" class="w-full builder-input">
                                    <button data-type="filetype" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                            <div class="builder-control">
                                <label class="block text-sm font-medium text-slate-700">ã‚¿ã‚¤ãƒˆãƒ«å†…æ¤œç´¢ <code>intitle:</code></label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="builder-intitle" placeholder="ä¾‹: ã‚¬ã‚¤ãƒ‰" class="w-full builder-input">
                                    <button data-type="intitle" class="builder-add-btn">è¿½åŠ </button>
                                </div>
                            </div>
                        </div>
                     </div>
                </section>
                
                <section id="ai-query-builder" class="my-12">
                    <h3 class="text-3xl font-bold mb-6 text-slate-900 border-l-4 border-blue-600 pl-4">âœ¨ AIã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼ (Gemini)</h3>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="mb-4 text-slate-600">ã“ã“ã«æ¢ã—ãŸã„å†…å®¹ã‚’æ—¥æœ¬èªã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚GeminiãŒæœ€é©ãªæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ææ¡ˆã—ã¾ã™ã€‚</p>
                        <textarea id="ai-prompt" class="w-full px-3 py-2 bg-slate-50 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" rows="3" placeholder="ä¾‹ï¼šæ—¥æœ¬ã®ITä¼æ¥­ãŒç™ºè¡¨ã—ãŸã€AIã«é–¢ã™ã‚‹PDFå½¢å¼ã®ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹ã‚’æ¢ã—ãŸã„ã€‚ãŸã ã—ã€2023å¹´ä»¥é™ã®ã‚‚ã®ã«é™å®šã™ã‚‹ã€‚"></textarea>
                        <div class="flex items-center justify-end mt-4">
                            <div id="ai-loader" class="loader mr-4 hidden"></div>
                            <button id="generate-ai-query" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 font-semibold">ã‚¯ã‚¨ãƒªã‚’ç”Ÿæˆ</button>
                        </div>
                        <div id="ai-result-container" class="mt-4 hidden">
                            <label class="block text-sm font-medium text-slate-700 mb-1">ç”Ÿæˆã•ã‚ŒãŸã‚¯ã‚¨ãƒªï¼š</label>
                            <div class="flex gap-2">
                                <input id="ai-generated-query" type="text" readonly class="w-full px-3 py-2 bg-slate-100 border border-slate-300 rounded-md font-mono text-sm">
                                <button id="copy-ai-query" class="bg-slate-200 text-slate-700 px-4 py-2 rounded-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400 whitespace-nowrap">ã‚³ãƒ”ãƒ¼</button>
                                <button id="search-ai-query" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 whitespace-nowrap">æ¤œç´¢</button>
                            </div>
                            <p id="ai-error" class="text-red-500 text-sm mt-2"></p>
                        </div>
                    </div>
                </section>
                
                <div id="commands-container" class="space-y-6">
                </div>

                <section id="section-advanced" class="mt-12">
                    <h3 class="text-3xl font-bold mb-6 text-slate-900 border-l-4 border-blue-600 pl-4">é«˜åº¦ãªæ¤œç´¢ã‚·ãƒŠãƒªã‚ª</h3>
                    <p class="mb-6 text-slate-600">å€‹ã€…ã®ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€å°‚é–€çš„ãªã‚¿ã‚¹ã‚¯ã‚’åŠ¹ç‡çš„ã«å®Ÿè¡Œã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚¿ãƒ–ã‹ã‚‰ã€ã‚ãªãŸã®ç›®çš„ã«åˆã£ãŸã€Œãƒ¬ã‚·ãƒ”ã€ã‚’æ¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
                     <div id="advanced-scenarios-container"></div>
                </section>
                
                <section id="section-dorking" class="mt-12 bg-red-100 border-l-4 border-red-500 text-red-700 p-6 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4">å€«ç†çš„æ³¨æ„ï¼šGoogle Dorkingã«ã¤ã„ã¦</h3>
                    <p class="text-red-800">é«˜åº¦ãªæ¤œç´¢æŠ€è¡“ã¯ã€æ„å›³ã›ãšå…¬é–‹ã•ã‚Œã¦ã„ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’è¦‹ã¤ã‘ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼ˆGoogle Dorkingï¼‰ã€‚æ¤œç´¢è‡ªä½“ã¯åˆæ³•ã§ã™ãŒã€æ¨©é™ã®ãªã„ã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯<strong>é•æ³•è¡Œç‚º</strong>ã§ã™ã€‚ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ã‚ãã¾ã§æƒ…å ±æ¤œç´¢ã‚¹ã‚­ãƒ«å‘ä¸Šã®ãŸã‚ã«ã€å€«ç†çš„ã‹ã¤åˆæ³•çš„ãªç¯„å›²ã§ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
                </section>

            </main>
        </div>
    </div>

    <footer class="text-center p-6 mt-12 bg-slate-800 text-slate-300">
        <p>&copy; 2024 ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚¬ã‚¤ãƒ‰. All Rights Reserved.</p>
    </footer>

    <script>
        const commandsData = [
            { name: '""', title: 'å®Œå…¨ä¸€è‡´', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'ãƒ€ãƒ–ãƒ«ã‚¯ã‚ªãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›²ã‚“ã ãƒ•ãƒ¬ãƒ¼ã‚ºã¨å®Œå…¨ã«ä¸€è‡´ã—ã€èªé †ã‚‚ãã®ã¾ã¾ã®çµæœã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: '"çŒ¿ãŒç©ºã‹ã‚‰è½ã¡ã‚‹"' },
            { name: '-', title: 'é™¤å¤–', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'ãƒã‚¤ãƒ•ãƒ³ã®ç›´å¾Œã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢çµæœã‹ã‚‰é™¤å¤–ã—ã¾ã™ã€‚', example: 'ã‚¸ãƒ£ã‚¬ãƒ¼ é€Ÿåº¦ -è»Š' },
            { name: 'OR / |', title: 'ã„ãšã‚Œã‹ã‚’å«ã‚€', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã„ãšã‚Œã‹ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚ORã¯å¤§æ–‡å­—ã§å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚', example: 'æœ‰æ©ŸEL OR OLED' },
            { name: 'AND', title: 'ã™ã¹ã¦ã‚’å«ã‚€', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ã™ã¹ã¦å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ï¼ˆé€šå¸¸ã¯ã‚¹ãƒšãƒ¼ã‚¹ã§ä»£ç”¨å¯èƒ½ï¼‰ã€‚', example: 'åŸ AND éºè·¡' },
            { name: '*', title: 'ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ã‚’ä¸æ˜ãªå˜èªã‚„ãƒ•ãƒ¬ãƒ¼ã‚ºã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚', example: 'çœŸå®Ÿã¯ã„ã¤ã‚‚ *' },
            { name: '()', title: 'ã‚°ãƒ«ãƒ¼ãƒ—åŒ–', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: 'è¤‡æ•°ã®æ¤œç´¢æ¡ä»¶ã‚’ã¾ã¨ã‚ã¦ã€æ¤œç´¢ã®å„ªå…ˆé †ä½ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚', example: '(æ¸‹è°· OR å“å·) ã‚°ãƒ«ãƒ¡' },
            { name: '..', title: 'æ•°å€¤ç¯„å›²', category: 'åŸºæœ¬', status: 'å‹•ä½œä¸­', description: '2ã¤ã®æ•°å€¤ã®é–“ã«ãƒ‰ãƒƒãƒˆã‚’2ã¤å…¥ã‚Œã‚‹ã“ã¨ã§ã€ãã®ç¯„å›²å†…ã®æ•°å€¤ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'ã‚«ãƒ¡ãƒ© $500..$1000' },
            { name: 'site:', title: 'ã‚µã‚¤ãƒˆå†…æ¤œç´¢', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'å‹•ä½œä¸­', description: 'æŒ‡å®šã—ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ã¾ãŸã¯URLãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹å†…ã®ã¿ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'site:caa.go.jp "æ¶ˆè²»è€…ç™½æ›¸"' },
            { name: 'filetype: / ext:', title: 'ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'å‹•ä½œä¸­', description: 'æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ï¼ˆpdf, docx, pptxãªã©ï¼‰ã®çµæœã®ã¿ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'ç ”ç©¶å ±å‘Šæ›¸ filetype:pdf' },
            { name: 'cache:', title: 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¡¨ç¤º', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'å‹•ä½œä¸­', description: 'GoogleãŒæœ€å¾Œã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã—ãŸæ™‚ç‚¹ã®ãƒšãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚', example: 'cache:example.com' },
            { name: 'intitle:', title: 'ã‚¿ã‚¤ãƒˆãƒ«å†…æ¤œç´¢', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã„ãšã‚Œã‹ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'intitle:SEO ã‚¬ã‚¤ãƒ‰' },
            { name: 'allintitle:', title: 'ã‚¿ã‚¤ãƒˆãƒ«å†…æ¤œç´¢ (å…¨ã¦)', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å…¨ã¦ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'allintitle:Webåˆ¶ä½œä¼šç¤¾ æ±äº¬' },
            { name: 'inurl:', title: 'URLå†…æ¤œç´¢', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®URLã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã„ãšã‚Œã‹ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'inurl:blog "ã‚²ã‚¹ãƒˆæŠ•ç¨¿"' },
            { name: 'allinurl:', title: 'URLå†…æ¤œç´¢ (å…¨ã¦)', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®URLã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å…¨ã¦ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'allinurl:apple iphone' },
            { name: 'intext:', title: 'æœ¬æ–‡å†…æ¤œç´¢', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®æœ¬æ–‡ã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã„ãšã‚Œã‹ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'intext:"ã‚¹ãƒãƒ³ã‚µãƒ¼è¨˜äº‹"' },
            { name: 'allintext:', title: 'æœ¬æ–‡å†…æ¤œç´¢ (å…¨ã¦)', category: 'å¯¾è±¡æŒ‡å®š', status: 'å‹•ä½œä¸­', description: 'ãƒšãƒ¼ã‚¸ã®æœ¬æ–‡ã«æŒ‡å®šã—ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å…¨ã¦ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'allintext:çŠ¬ çŒ« ã—ã¤ã‘' },
            { name: 'related:', title: 'é–¢é€£ã‚µã‚¤ãƒˆ', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'ä¿¡é ¼æ€§ãŒä½ã„', description: 'æŒ‡å®šã—ãŸURLã¨é–¢é€£æ€§ãŒã‚ã‚‹ã¨GoogleãŒåˆ¤æ–­ã—ãŸã‚µã‚¤ãƒˆã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'related:toyota.jp' },
            { name: 'inanchor:', title: 'ã‚¢ãƒ³ã‚«ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ', category: 'å¯¾è±¡æŒ‡å®š', status: 'ä¿¡é ¼æ€§ãŒä½ã„', description: 'ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã®ã‚¢ãƒ³ã‚«ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚', example: 'inanchor:"è©³ã—ãã¯ã“ã¡ã‚‰"' },
            { name: 'link:', title: 'è¢«ãƒªãƒ³ã‚¯å…ƒ', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'å»ƒæ­¢æ¸ˆã¿', description: 'æŒ‡å®šã—ãŸãƒšãƒ¼ã‚¸ã«ãƒªãƒ³ã‚¯ã—ã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã—ã¾ã™ã€‚ç¾åœ¨ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚', example: 'link:example.com' },
            { name: 'info:', title: 'ã‚µã‚¤ãƒˆæƒ…å ±', category: 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«', status: 'å»ƒæ­¢æ¸ˆã¿', description: 'ã‚µã‚¤ãƒˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ç¾åœ¨ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚', example: 'info:example.com' },
        ];

        const advancedScenarios = [
            {
                title: 'SEOãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°',
                scenarios: [
                    { name: 'ç«¶åˆã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ', query: 'site:competitor.com (intitle:ã‚¬ã‚¤ãƒ‰ OR intitle:äº‹ä¾‹)' },
                    { name: 'ã‚²ã‚¹ãƒˆæŠ•ç¨¿å…ˆã®ç™ºè¦‹', query: '[ã‚ãªãŸã®ãƒ‹ãƒƒãƒ] intitle:"å¯„ç¨¿è€…å‹Ÿé›†" OR inurl:guest-post' },
                    { name: 'ãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ãªã„ãƒ–ãƒ©ãƒ³ãƒ‰è¨€åŠã®ç™ºè¦‹', query: 'intext:"ã‚ãªãŸã®ãƒ–ãƒ©ãƒ³ãƒ‰å" -site:yourwebsite.com -site:twitter.com' },
                    { name: 'éã‚»ã‚­ãƒ¥ã‚¢ãƒšãƒ¼ã‚¸ã®ç›£æŸ»', query: 'site:yourwebsite.com -inurl:https' },
                ]
            },
            {
                title: 'å­¦è¡“ç ”ç©¶',
                scenarios: [
                    { name: 'æ”¿åºœãƒ»å¤§å­¦ã®ä¸€æ¬¡æƒ…å ±æºã‚’æ¢ã™', query: '"æ°—å€™å¤‰å‹• å ±å‘Šæ›¸" filetype:pdf (site:.gov OR site:.edu)' },
                    { name: 'ç‰¹å®šã®å­¦è¡“è«–æ–‡ã‚’æ¢ã™', query: '"æ©Ÿæ¢°å­¦ç¿’" "å€«ç†" filetype:pdf site:acm.org' },
                    { name: 'åŒ…æ‹¬çš„ãªæ–‡çŒ®ãƒ¬ãƒ“ãƒ¥ãƒ¼', query: '("æ·±å±¤å­¦ç¿’" OR "ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯") filetype:pdf' },
                ]
            },
            {
                title: 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼',
                scenarios: [
                    { name: 'ç‰¹å®šã®ä¾¡æ ¼å¸¯ã§è£½å“ã‚’æ¢ã™', query: '"ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³" 10000å††..30000å†† -site:amazon.co.jp' },
                    { name: 'è£½å“ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’æ¢ã™', query: '"è£½å“å‹ç•ª" (ãƒãƒ‹ãƒ¥ã‚¢ãƒ« OR å–æ‰±èª¬æ˜æ›¸) filetype:pdf' },
                    { name: 'ç‰¹å®šã®ãƒ¬ã‚·ãƒ”ã‚’æ¢ã™', query: 'ãƒ‘ã‚¹ã‚¿ ãƒ¬ã‚·ãƒ” -ã‚¯ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰' },
                ]
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const commandsContainer = document.getElementById('commands-container');
            const navigationMenu = document.querySelector('#navigation-menu ul');
            
            // Common styles for builder
            document.querySelectorAll('.builder-input').forEach(el => el.className += ' w-full px-3 py-2 bg-slate-50 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500');
            document.querySelectorAll('.builder-add-btn').forEach(el => el.className += ' bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap text-sm');

            const navLinks = [
                { id: 'section-reliability', text: 'ä¿¡é ¼æ€§ãƒãƒ£ãƒ¼ãƒˆ' },
                { id: 'interactive-query-builder', text: 'ã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼' },
                { id: 'ai-query-builder', text: 'AIã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼' },
                ...[...new Set(commandsData.map(cmd => cmd.category))].map(cat => ({
                    id: `section-${cat}`,
                    text: { 'åŸºæœ¬': 'åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰', 'å¯¾è±¡æŒ‡å®š': 'å¯¾è±¡æŒ‡å®šã‚³ãƒãƒ³ãƒ‰', 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«': 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒãƒ³ãƒ‰' }[cat] || cat
                })),
                { id: 'section-advanced', text: 'é«˜åº¦ãªã‚·ãƒŠãƒªã‚ª' }
            ];

            navLinks.forEach(link => {
                const navItem = document.createElement('li');
                navItem.innerHTML = `<a href="#${link.id}" class="block px-3 py-2 rounded-md hover:bg-blue-50 text-slate-700 font-medium">${link.text}</a>`;
                navigationMenu.appendChild(navItem);
            });
            
            const categories = [...new Set(commandsData.map(cmd => cmd.category))];
            
            categories.forEach(category => {
                const categoryId = `section-${category}`;
                
                const categoryTitle = document.createElement('h3');
                categoryTitle.id = categoryId;
                categoryTitle.className = "text-3xl font-bold mb-6 text-slate-900 border-l-4 border-blue-600 pl-4";
                categoryTitle.textContent = { 'åŸºæœ¬': 'åŸºæœ¬ã®çµã‚Šè¾¼ã¿', 'å¯¾è±¡æŒ‡å®š': 'æ¤œç´¢å¯¾è±¡ã®æŒ‡å®š', 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«': 'ã‚µã‚¤ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«' }[category] || category;
                commandsContainer.appendChild(categoryTitle);
                
                commandsData.filter(cmd => cmd.category === category).forEach(command => {
                    const statusColors = {
                        'å‹•ä½œä¸­': 'bg-green-100 text-green-800 border-green-400',
                        'ä¿¡é ¼æ€§ãŒä½ã„': 'bg-yellow-100 text-yellow-800 border-yellow-400',
                        'å»ƒæ­¢æ¸ˆã¿': 'bg-red-100 text-red-800 border-red-400'
                    };

                    const card = document.createElement('div');
                    card.className = `command-card bg-white p-6 rounded-lg shadow-md border-l-4 ${statusColors[command.status]}`;
                    card.dataset.status = command.status;
                    
                    card.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="text-xl font-bold text-slate-900">${command.title} <code class="text-lg bg-slate-200 text-blue-700 px-2 py-1 rounded-md">${command.name}</code></h4>
                                <p class="mt-2 text-slate-600">${command.description}</p>
                            </div>
                            <span class="text-sm font-semibold px-3 py-1 rounded-full whitespace-nowrap ${statusColors[command.status]}">${command.status}</span>
                        </div>
                        <div class="mt-4 pt-4 border-t border-slate-200">
                            <label for="input-${command.name.replace(/\s|\/|\|/g, '')}" class="block text-sm font-medium text-slate-700 mb-1">è©¦ã—ã¦ã¿ã‚‹ï¼š</label>
                            <div class="flex gap-2">
                                <input id="input-${command.name.replace(/\s|\/|\|/g, '')}" type="text" value="${command.example}" class="w-full px-3 py-2 bg-slate-50 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                <button class="search-btn bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap">æ¤œç´¢</button>
                            </div>
                        </div>
                    `;
                    commandsContainer.appendChild(card);
                });
            });

            document.querySelectorAll('.search-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const input = e.target.previousElementSibling;
                    const query = encodeURIComponent(input.value);
                    window.open(`https://www.google.com/search?q=${query}`, '_blank');
                });
            });

            renderReliabilityChart();
            setupInteractiveBuilder();
            setupAIQueryBuilder();
            renderAdvancedScenarios();
        });

        function renderReliabilityChart() {
            const ctx = document.getElementById('reliabilityChart').getContext('2d');
            const statusCounts = commandsData.reduce((acc, cmd) => {
                acc[cmd.status] = (acc[cmd.status] || 0) + 1;
                return acc;
            }, {});

            const data = {
                labels: Object.keys(statusCounts),
                datasets: [{
                    data: Object.values(statusCounts),
                    backgroundColor: [ 'rgba(34, 197, 94, 0.7)', 'rgba(234, 179, 8, 0.7)', 'rgba(239, 68, 68, 0.7)' ],
                    borderColor: [ 'rgba(22, 163, 74, 1)', 'rgba(202, 138, 4, 1)', 'rgba(220, 38, 38, 1)' ],
                    borderWidth: 1
                }]
            };

            const reliabilityChart = new Chart(ctx, {
                type: 'doughnut',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'top' }, tooltip: { callbacks: { label: (context) => `${context.label}: ${context.parsed}å€‹` } } }
                }
            });

            document.getElementById('reliabilityChart').onclick = (evt) => {
                const activePoints = reliabilityChart.getElementsAtEventForMode(evt, 'nearest', { intersect: true }, true);
                const filterStatusEl = document.getElementById('filter-status');
                if (activePoints.length) {
                    const { index } = activePoints[0];
                    const label = reliabilityChart.data.labels[index];
                    if (filterStatusEl.dataset.currentFilter === label) {
                        filterCommands(null);
                        filterStatusEl.textContent = '';
                        filterStatusEl.dataset.currentFilter = '';
                    } else {
                        filterCommands(label);
                        filterStatusEl.textContent = `ãƒ•ã‚£ãƒ«ã‚¿ä¸­: ${label}`;
                        filterStatusEl.dataset.currentFilter = label;
                    }
                }
            };
        }

        function filterCommands(status) {
            document.querySelectorAll('.command-card').forEach(card => {
                card.classList.toggle('hidden', status !== null && card.dataset.status !== status);
            });
        }
        
        function setupInteractiveBuilder() {
            let queryParts = [];
            const display = document.getElementById('builder-query-display');

            const updateDisplay = () => {
                display.textContent = queryParts.join(' ');
            };

            document.querySelectorAll('.builder-add-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const type = e.target.dataset.type;
                    const input = document.getElementById(`builder-${type}`);
                    const value = input.value.trim();
                    if (!value) return;

                    let part;
                    switch (type) {
                        case 'keyword': part = value; break;
                        case 'exact': part = `"${value}"`; break;
                        case 'exclude': part = `-${value}`; break;
                        case 'site': part = `site:${value}`; break;
                        case 'filetype': part = `filetype:${value}`; break;
                        case 'intitle': part = `intitle:${value}`; break;
                    }
                    queryParts.push(part);
                    updateDisplay();
                    input.value = '';
                });
            });

            document.getElementById('builder-clear').addEventListener('click', () => {
                queryParts = [];
                updateDisplay();
            });

            document.getElementById('builder-copy').addEventListener('click', () => {
                const queryText = queryParts.join(' ');
                navigator.clipboard.writeText(queryText).then(() => {
                    const btn = document.getElementById('builder-copy');
                    btn.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†!';
                    setTimeout(() => { btn.textContent = 'ã‚³ãƒ”ãƒ¼'; }, 2000);
                });
            });
            
            document.getElementById('builder-search').addEventListener('click', () => {
                const query = encodeURIComponent(queryParts.join(' '));
                if (query) {
                    window.open(`https://www.google.com/search?q=${query}`, '_blank');
                }
            });
        }
        
        function renderAdvancedScenarios() {
            const container = document.getElementById('advanced-scenarios-container');
            const tabContainer = document.createElement('div');
            tabContainer.className = "flex border-b border-slate-200 mb-4";
            const contentContainer = document.createElement('div');
            
            advancedScenarios.forEach((category, index) => {
                const tab = document.createElement('button');
                tab.className = `tab-btn px-6 py-3 -mb-px text-lg font-medium border-b-2 ${index === 0 ? 'text-blue-600 border-blue-600' : 'text-slate-500 border-transparent hover:text-blue-500'}`;
                tab.textContent = category.title;
                tab.dataset.target = `tab-content-${index}`;
                tabContainer.appendChild(tab);
                
                const content = document.createElement('div');
                content.id = `tab-content-${index}`;
                content.className = `tab-content space-y-4 ${index !== 0 ? 'hidden' : ''}`;
                
                category.scenarios.forEach(scenario => {
                    const scenarioEl = document.createElement('div');
                    scenarioEl.className = "bg-white p-4 rounded-lg shadow-sm";
                    scenarioEl.innerHTML = `
                        <p class="font-semibold text-slate-700">${scenario.name}</p>
                        <div class="flex gap-2 mt-2">
                            <input type="text" value="${scenario.query.replace(/\[ã‚ãªãŸã®ãƒ‹ãƒƒãƒ\]/g, 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°').replace(/\[ã‚ãªãŸã®ãƒ–ãƒ©ãƒ³ãƒ‰å\]/g, 'MyBrand').replace(/yourwebsite\.com/g, 'example.com')}" class="w-full px-3 py-2 bg-slate-50 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-mono text-sm">
                            <button class="search-btn bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap">æ¤œç´¢</button>
                        </div>`;
                    content.appendChild(scenarioEl);
                });
                contentContainer.appendChild(content);
            });
            
            container.appendChild(tabContainer);
            container.appendChild(contentContainer);

            container.addEventListener('click', function(e) {
                if (e.target.classList.contains('tab-btn')) {
                    container.querySelectorAll('.tab-btn').forEach(btn => btn.className = btn.className.replace('text-blue-600 border-blue-600', 'text-slate-500 border-transparent'));
                    e.target.className = e.target.className.replace('text-slate-500 border-transparent', 'text-blue-600 border-blue-600');
                    container.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
                    document.getElementById(e.target.dataset.target).classList.remove('hidden');
                }
            });
        }
        
        function setupAIQueryBuilder() {
            const generateBtn = document.getElementById('generate-ai-query');
            const promptTextarea = document.getElementById('ai-prompt');
            const loader = document.getElementById('ai-loader');
            const resultContainer = document.getElementById('ai-result-container');
            const resultInput = document.getElementById('ai-generated-query');
            const errorP = document.getElementById('ai-error');
            const copyBtn = document.getElementById('copy-ai-query');
            const searchBtn = document.getElementById('search-ai-query');

            generateBtn.addEventListener('click', async () => {
                const userPrompt = promptTextarea.value.trim();
                if (!userPrompt) {
                    errorP.textContent = 'æ¤œç´¢ã—ãŸã„å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
                    resultContainer.classList.remove('hidden');
                    return;
                }

                loader.classList.remove('hidden');
                generateBtn.disabled = true;
                resultContainer.classList.add('hidden');
                errorP.textContent = '';
                
                try {
                    const usableCommands = commandsData.filter(cmd => cmd.status === 'å‹•ä½œä¸­').map(cmd => `${cmd.name} (${cmd.title})`).join(', ');
                    const fullPrompt = `ã‚ãªãŸã¯Googleæ¤œç´¢ã®å°‚é–€å®¶ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»¥ä¸‹ã®è¦æœ›ã«æœ€ã‚‚åˆè‡´ã™ã‚‹ã€åŠ¹æœçš„ãªGoogleæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ä¸€ã¤ã ã‘ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nåˆ©ç”¨å¯èƒ½ãªæ¤œç´¢ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š\n${usableCommands}\n\nãƒ«ãƒ¼ãƒ«ï¼š\n- ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚\n- ç”Ÿæˆã™ã‚‹ã®ã¯æ¤œç´¢ã‚¯ã‚¨ãƒªã®æ–‡å­—åˆ—ã®ã¿ã§ã™ã€‚èª¬æ˜ã‚„å‰ç½®ãã¯ä¸€åˆ‡ä¸è¦ã§ã™ã€‚\n- ã‚¯ã‚¨ãƒªã¯å˜ä¸€è¡Œã§è¿”ã—ã¦ãã ã•ã„ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ï¼š\nã€Œ${userPrompt}ã€`;
                    const chatHistory = [{ role: "user", parts: [{ text: fullPrompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`APIã‚¨ãƒ©ãƒ¼: ${response.status} ${response.statusText}`);
                    
                    const result = await response.json();

                    if (result.candidates?.[0]?.content?.parts?.[0]) {
                        const text = result.candidates[0].content.parts[0].text;
                        resultInput.value = text.trim();
                        resultContainer.classList.remove('hidden');
                    } else {
                        throw new Error('AIã‹ã‚‰æœ‰åŠ¹ãªå¿œç­”ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚');
                    }
                } catch (err) {
                    errorP.textContent = `ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${err.message}`;
                    resultContainer.classList.remove('hidden');
                    resultInput.value = '';
                } finally {
                    loader.classList.add('hidden');
                    generateBtn.disabled = false;
                }
            });

            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(resultInput.value).then(() => {
                    copyBtn.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†!';
                    setTimeout(() => { copyBtn.textContent = 'ã‚³ãƒ”ãƒ¼'; }, 2000);
                });
            });

            searchBtn.addEventListener('click', () => {
                const query = encodeURIComponent(resultInput.value);
                if (query) window.open(`https://www.google.com/search?q=${query}`, '_blank');
            });
        }

    </script>
</body>
</html>
